{% extends 'base.html.twig' %}

{% block title %}Product
{% endblock %}

{% block body %}
	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<table class="table">
		<tbody>


			
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <style>
        .table-container {
            margin: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            border-spacing: 0;
        }

        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #f2f2f2;
        }

        tr:hover {
            background-color: #f5f5f5;
        }
    </style>
</head>
<body>
    <div class="table-container">
        <table>
            <tr>
                <th>Name</th>
                <td>{{ product.name }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ product.description }}</td>
            </tr>
            <tr>
                <th>Quantity</th>
                <td>{{ product.quantity }}</td>
            </tr>
            <tr>
                <th>Price</th>
                <td>{{ product.price }}</td>
            </tr>
			
             <tr>
                <th>Image</th>
                <td><img src="{{ asset( product.image) }}" alt="image " class="rounded img-fluid" width="100px" height="100px"></td>
            </tr>
        </table>
    </div>
</body>
</html>


			
		</tbody>

		<button type="button" class="btn btn-primary ml-2" data-toggle="modal" data-target="#ratingModal">
			Rate this item
		</button>
		<p>Avrege Rating
			{{AvregeRating}}
		</p>
		<div class="modal fade" id="ratingModal" tabindex="-1" role="dialog" aria-labelledby="ratingModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="ratingModalLabel">Rate this item</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">


						{{ form_start(form,{'attr': {'novalidate': 'novalidate'}}) }}
						<div class="rating">
							<label for="{{ form.Stars.vars.id }}">Rating:</label>
							{% for i in 1..5 %}
								<span class="star" data-value="{{ i }}">☆</span>
							{% endfor %}
						</div>
						<br>


						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
							<button type="submit" class="btn btn-primary">Submit</button>
						</div>
						{{ form_end(form) }}
					</div>
				</div>
			</div>
		</table>

		<a href="{{ path('app_product_index') }}">back to list</a>

		<a href="{{ path('app_product_edit', {'id': product.id}) }}">edit</a>

		{{ include('product/_delete_form.html.twig') }}


		<script>

			const stars = document.querySelectorAll('.star');
const ratingInput = document.querySelector('#{{ form.Stars.vars.id }}');

console.log(ratingInput)


stars.forEach(star => {
star.addEventListener('click', () => {
const value = star.getAttribute('data-value');
ratingInput.value = value;
updateStars(value);
});

star.addEventListener('mouseover', () => {
const value = star.getAttribute('data-value');
updateStars(value);
});

star.addEventListener('mouseout', () => {
const value = ratingInput.value;
updateStars(value);

});
});

function updateStars(value) {
stars.forEach(star => {
const starValue = star.getAttribute('data-value');
if (starValue <= value) {
star.textContent = '★';
star.classList.add('active');
} else {
star.textContent = '☆';
star.classList.remove('active');
}
});
}
		</script>
		<script src="{{ asset('https://code.jquery.com/jquery-3.3.1.slim.min.js') }}"></script>
		<script src="{{ asset('https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js') }}"></script>
		<script src="{{ asset('https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js') }}"></script>
	</script><!-- JavaScript Libraries --><script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
	<script src="{{ asset('Front/Shop/lib/easing/easing.min.js') }}"></script>
	<script src="{{ asset('Front/Shop/lib/owlcarousel/owl.carousel.min.js') }}"></script><!-- Contact Javascript File --><script src="{{ asset('Front/Shop/mail/jqBootstrapValidation.min.js') }}"></script>
	<script src="{{ asset('Front/Shop/mail/contact.js') }}"></script><!-- Template Javascript --><script src="{{ asset('Front/Shop/js/main.js') }}"></script><!-- Favicon --><linkhref="{{asset('Front/Shopimg/favicon.ico')}}" rel="icon"><!-- Google Web Fonts --><link rel="preconnect" href="https://fonts.gstatic.com"><linkhref="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"><!-- Font Awesome --><linkhref="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet"><!-- Libraries Stylesheet --><link href="{{ asset('Front/Shop/lib/animate/animate.min.css') }}" rel="stylesheet"><link href="{{ asset('Front/Shop/lib/owlcarousel/assets/owl.carousel.min.css') }}" rel="stylesheet">
			{% endblock %}
